jQuery(document).ready(function(){'use strict';var inhibit_live_product_update=false;jQuery('#rp_wcdpd_pricing_table_variation_container').rightpress_live_product_update({ajax_url:rp_wcdpd_promotion_volume_pricing_table_scripts_vars.ajaxurl,action:'rp_wcdpd_load_variation_pricing_table',before_send:function(xhr){if(inhibit_live_product_update){xhr.abort();inhibit_live_product_update=false;return;}
jQuery(this).css('opacity','0.25');},response_handler:function(response){if(typeof response==='object'&&typeof response.result!=='undefined'&&response.result==='success'&&response.display){if(typeof jQuery(this).data('rp_wcdpd_html_hash')==='undefined'||jQuery(this).data('rp_wcdpd_html_hash')!==response.html_hash){jQuery(this).html(response.html);jQuery(this).data('rp_wcdpd_html_hash',response.html_hash);jQuery(this).show();set_up_pricing_table_controls();jQuery('body').trigger('rp_wcdpd_volume_pricing_table_updated',response);}
jQuery(this).css('opacity','1.0');}
else{jQuery(this).hide();jQuery(this).removeData('rp_wcdpd_html_hash');}}});function set_up_pricing_table_controls()
{jQuery('.rp_wcdpd_pricing_table_quantity[data-rp-wcdpd-from], .rp_wcdpd_pricing_table_product_price[data-rp-wcdpd-from]').on('click',function(){inhibit_live_product_update=true;jQuery('form.cart input[name="quantity"]').val(jQuery(this).data('rp-wcdpd-from')).change();});jQuery('.rp_wcdpd_pricing_table_product_name[data-rp-wcdpd-variation-attributes], .rp_wcdpd_pricing_table_product_price[data-rp-wcdpd-variation-attributes]').on('click',function(){if(jQuery(this).data('rp-wcdpd-variation-attributes')===''){return;}
var attributes={};var attributes_raw=jQuery(this).data('rp-wcdpd-variation-attributes').split('&');jQuery.each(attributes_raw,function(index,attribute_raw){var parts=attribute_raw.split('=');attributes[parts[0]]=parts[1];});jQuery.each(attributes,function(attribute,value){jQuery('form.cart .variations select[name="'+attribute+'"]').each(function(){jQuery(this).val('').change();});});jQuery.each(attributes,function(attribute,value){jQuery('form.cart .variations select[name="'+attribute+'"]').each(function(){var select=jQuery(this);if(value!==''){select.val(value);}
else{select.find('option').each(function(){if(jQuery(this).val()!==''){select.val(jQuery(this).val());return false;}});}
window.setTimeout(function(){select.change();},50);});});});jQuery('.rp_wcdpd_product_page_modal_link span').on('click',function(){if(!jQuery('#rp_wcdpd_modal_overlay').length){jQuery('body').append('<div id="rp_wcdpd_modal_overlay" class="rp_wcdpd_modal_overlay"></div>');}
jQuery('#rp_wcdpd_modal_overlay').on('click',function(){jQuery('#rp_wcdpd_modal_overlay').fadeOut();jQuery('.rp_wcdpd_modal').fadeOut();});var pricing_table=jQuery(this).closest('.rp_wcdpd_product_page').parent().find('.rp_wcdpd_modal');jQuery('#rp_wcdpd_modal_overlay').fadeIn();pricing_table.css('top','50%').css('left','50%').css('margin-top',-pricing_table.outerHeight()/2).css('margin-left',-pricing_table.outerWidth()/2).fadeIn();return false;});}
set_up_pricing_table_controls();});